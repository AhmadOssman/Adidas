(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(C){var u=window.AmazonUIPageJS||window.P,aa=u._namespace||u.attributeErrors,T=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):u;T.guardFatal?T.guardFatal(C)(T,window):T.execute(function(){C(T,window)})})(function(C,u,aa){C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,a,f,H,k,K,J){function S(l,c,t,d,p){if(!f.isjQueryObjDefined(l.find(".a-button-selected"))){var b=
E.getCurrentItem();if(!d||"chromeless-video"!==b.type||!g.autoplayVideo){d=0;"image"===b.type&&(d=Math.max(f.getIndexForVariant(b.color,b.variant,g),0));var e=0;f.isDefined(g.heroImage[b.color])&&(e=g.heroImage[b.color].length);p=d-(c>=g.maxAlts?g.maxAlts-p-e:0);c=0<=p?c+p:d+e;c>=t&&(d=0,c=e);t=f.getImageHash(b.color,d,g);-1!==t&&(L.dispatch("updateModel",{data:{index:d,thumbnailIndex:c,variant:t.variant,type:"image",shoppableScene:t.shoppableScene}}),t=l.find(".item").get(c),f.selectGivenThumbnail(a(t),
l))}}}function M(a){if(!g.useChildVideos)return f.lazyLoadingRequired(E.getCurrentItem(),E,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var c=g.colorToAsin[a];if(c&&c.asin){var l={};l.params={asin:c.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(l.success=function(c){videosOnTwisterRefresh(c)},H.load(VIDEO_AJAX_ENDPOINT,l));return g.colorToVideo&&g.colorToVideo[a]}}function x(l,
c,t){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&t)return l;var p=M(c),r=f.isDefined(p)&&0<p.length&&g.alwaysIncludeVideo?1:0;c=g.colorImages&&g.colorImages[c];p=l;var b=0;f.isDefined(c)&&(a.each(c,function(c,q){if(b>=g.maxAlts-r&&l<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var e=a(".thumbItemUnrolled");e[l]?e[l].querySelector("img").src=q.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(l+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(l+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(l+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+q.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:c,thumbnailIndex:l,variant:q.variant,shoppableScene:q.shoppableScene},q.thumb,d,"imageThumbnail");l++}b++}),K.isEnabled&&J.logAltImgRequestPlacedOnThumbnails(a,K,E),S(d,p,l,t,r));return l}function F(a,c){g.useIV&&f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function G(l,c){if("image"===l.type&&R){var d=a("#image-canvas-caption #canvasCaption"),p=g.staticStrings,r=g.colorImages,b=l.color,e=l.index;if(f.isShoppableScenesEnabled()&&l.shoppableScene)var q=p.clickSceneTagsToShopProducts;else c&&
g.useIV?q=p.clickToExpand:r[b]&&r[b][e].hiRes&&g.useHoverZoom?(q=g.useHoverZoomIpad?p.touchToZoom:g.useClickZoom?p.clickToZoom:p.rollOverToZoom,g.hoverZoomIndicator&&(q="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+q)):g.useIV&&(q=p.clickToExpand);d.html(q)}}function I(l,c){var d="a-dynamic-image";if(!g.acEnabled){var p;a.each(l.main,function(b,c){f.isDefined(p)||(p=parseFloat(c[1]/c[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=p}var r=f.getMaxDimensionsOfMainImage(l.main,
A,g),b=r[0],e=r[1];r=a("\x3cdiv\x3e\x3c/div\x3e");b={"max-height":b,"max-width":e};r.addClass(d).css(b).attr({"data-old-hires":l.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",l.main);return r}function v(f,c,a){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+f;"function"==typeof uet&&uet("bb",d,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+f);a=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
a.addClass("celwidget").attr("cel_widget_id",d);a.children("span").css("display","inline-block");L.dispatch("initialize-shoppable-scene",{index:f,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(a,b){a.forEach(function(e){"childList"===e.type&&e.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===e.addedNodes.length&&"IMG"===e.addedNodes[0].tagName&&""!==e.addedNodes[0].src&&(e=e.addedNodes[0],"function"!==typeof e.onload&&(e.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:f,shoppableScene:c.shoppableScene})}),b.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return a}function y(a,c,d){d=I(a,d);a=f.isShoppableScenesEnabled()&&a.shoppableScene?v(c,a,d):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(d);p.find(".list").append(a);n.loadImageManually(d);return a}function ea(a){var c=A.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function N(d,
c,t,r){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||r||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){t=f.getImageHash(d.color,d.index,g);if(-1===t)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(d,E,g)||(L.dispatch("updateModel",c),f.showUnavailable(d.color)),-1;r=p.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(r)||(r=y(t,d.thumbnailIndex,c));ea(r);L.dispatch("loadMagnifier");
G(d);F(r,t);n.trigger("dp:image-block:update",t)}}else{d=g.colorImages&&g.colorImages[t];c=a(".unrolledImg");t=M(t);var l=f.isDefined(t)&&0<t.length&&g.alwaysIncludeVideo?1:0;c.length>g.maxAlts&&c.each(function(b){b>=g.maxAlts&&a(this).remove()});f.isDefined(d)&&a.each(d,function(b,c){b<g.maxAlts-l+g.additionalNumberOfImageAlts&&b>=g.maxAlts-l&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+l+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(b+l)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+l)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function w(a){var c=E.getCurrentItem().color;g.colorImages[c]||(g.colorImages[c]=a);a={type:"updatedData",data:E.getCurrentItem()};L.dispatch("updateView",a);(c=g.colorToAsin[c])&&c.asin&&C.register(f.rankedImagesReadyEvent(c.asin))}function h(){var d=p.find(".item .imgTagWrapper"),c=f.getContainerHeight(A,g.holderRatio,g.holderMaxHeight);
0<c&&(A.height(c),d.height(c));p.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&n.loadDynamicImage(this);var d=c.data("a-dynamic-image");d=f.getMaxDimensionsOfMainImage(d,A,g);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function r(a){G(E.getCurrentItem(),"mouseenter"===a.type)}var B,g,E,L,d,p,A,U,R=(k=n.state("imageBlockStateData"))?!k.shouldRemoveCaption:!0;return function(l,c,t,k){B=this;g=l;E=c;L=k;n.on("triggerImageAjax",w);g.colorImages[g.landingAsinColor]=
g.colorImages[g.defaultColor];B.render=function(c,b,e,q,r,m,ja){p=e;d=q;A=r;U=x(b,c,m);m||(b=E.getCurrentItem(),f.lazyLoadingRequired(b,E,g)&&L.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=E.getCurrentItem();e=!m;f.lazyLoadingRequired(b,E,g)||(a("#imageBlock").css("opacity","1"),p.css("opacity","1"),f.spinner(p,!1),p.find("li").removeClass("selected"),R&&a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&p.find(".list .item").remove());N(E.getCurrentItem(),ja,c,m);
return U};B.update=function(c){};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");L.register("imageHover",r);L.register("resize",h)}});"use strict";C.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,a,f){var u,k,K,J;return function(a,H,x,F){u=this;k=a;K=F;u.render=function(a,x,v,y,F,H,w){J=y;u=this;v=k.maxAlts;y=x;F=k.colorImages[a]?k.colorImages[a].length:0;F+=f.getVideosCount(a,k);a=k.heroImage[a];H=0;a&&(H=a.length);a=F+H;a>v&&(v=a-v,a=
J.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),v+="+",y={type:"ingress",index:0,thumbnailIndex:x,variant:""},a.find("#altIngressText").append(v),n.declarative.create(a,"thumb-action",y),J.append(a),y=x++);return y};u.update=function(a){"ingress"===a.data.type&&"click"===a.type&&K.dispatch("imageClick",a)}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,a,f,
u){function k(r,B,g,h){if(!f.isjQueryObjDefined(r.find(".a-button-selected"))){var k=y.getCurrentItem();if(!h||"chromeless-video"!==k.type||!v.autoplayVideo){h=0;if("hero-image"===k.type){h=J(k.color,k.variant);if(-1===h)return;h=-1!==h?h:0}var d=B+h;d>=g&&(h=0,d=B);B=u.getHeroImageHash(v,k.color,h);-1!==B&&(C.dispatch("updateModel",{data:{index:h,thumbnailIndex:d,variant:B.variant,type:"hero-image"}}),B=r.find(".item").get(d),f.selectGivenThumbnail(a(B),r))}}}function H(r,h,g){if("hero-video"===
y.getCurrentItem().type)return r;h=v.heroImage&&v.heroImage[h];var B=r;f.isDefined(h)&&(a.each(h,function(a,d){r<v.maxAlts&&(f.createThumbnail({type:"hero-image",index:a,thumbnailIndex:r,variant:d.variant},d.thumb,N,"imageThumbnail"),r++)}),k(N,B,r,g));return r}function J(r,h){var g=v.heroImage;if(1>g.length||!f.isDefined(g[r])||!f.isDefined(h))return-1;var k=-1;a.each(g[r],function(a,d){d.variant===h&&(k=a)});return k}function S(){if(w.length&&v.repositionHeroImage){var a=u.getHeroDimParams(v,y.getCurrentItem());
if(f.isDefined(a)){var h=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";w.css({"background-position":h,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function M(a,h,g,k){if(w.length&&a&&h){if("function"===typeof g||k){var r=new Image;r.onload=k?function(){w.css("background-image",'url("'+a+'")')}:g;r.src=a}g=h[1];r=h[0];k||w.css({"background-image":'url("'+a+'")'});if(v.repositionHeroImage&&(h=
u.getHeroDimParams(v,y.getCurrentItem(),h),f.isDefined(h))){g=h.width;r=h.height;var d=f.isDefined(h.xPos)?h.xPos+"px "+h.yPos+"px ":"center "+h.yPos+"px "}w.css({"background-position":d,"background-size":g+"px "+r+"px ","max-width":g+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function x(f,h,g,k){f=u.getHeroImageHash(v,f,h);if(-1===f)return-1;h=a.map(f.main,function(a,d){return d})[0];M(h,f.main[h],g,k)}function F(a,f,h){if("hero-image"!==a.type)return-1;var g=J(a.color,y.getCurrentItem().variant);
g=-1!==g?g:0;if(-1===u.getHeroImageHash(v,a.color,g))return-1;var k=y.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;a.variant=k.variant;a.index=g;G(a,f,h)}function G(a,f,g){var k=u.getHeroImageHash(v,a.color,a.index);var r=a&&h&&n.equals(a,h)?!0:!1;h||(h=a);if(!r&&a||f)x(a.color,a.index,f,g),h=a;w.removeClass("hide-background");n.trigger("dp:image-block:update",k)}var I,v,y,C,N,w,h={};return function(h,k,g,n){I=this;v=h;y=k;C=n;v.heroImage[v.landingAsinColor]=v.heroImage[v.defaultColor];
I.render=function(f,d,g,h,k,r,l){N=h;w=a("#heroImage");f=H(d,f,r);F(y.getCurrentItem(),l,r);return f};I.update=function(a){var d=a.data;"ingress"!==d.type&&w.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=y.getCurrentItem().type,-1!==F(d)&&(a.captured=!0)):"hero-image"===d.type&&(G(d),"click"!==a.type&&v.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,N))};C.register("resize",S)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric").register("ImageBlockMagnifierView",function(n,a,f,H,k,K){function J(a){N?a.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function C(a){var h=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(h)){h=h[1].split("_");for(var k=0;k<h.length;k++){var n=h[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(n)&&(a[n[1]]=parseInt(n[2],10))}}return a}function M(w,h){function r(){if(h.useClickZoom){var a=
h.offsetInClickZoom;a=[Math.min(1,Math.max(0,t[0]-(D[0]+a))/(D[2]-2*a)),Math.min(1,Math.max(0,t[1]-(D[1]+a))/(D[3]-2*a))]}else a=c&&c.updatePosition();if(a&&l&&l.detailSize){var b=[l.detailSize[0]-l.rect.width,l.detailSize[1]-l.rect.height];n.capabilities.rtl?l.detailImage.get(0).style.right=-(a[0]*b[0])+"px":l.detailImage.get(0).style.left=-(a[0]*b[0])+"px";l.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function v(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(b){var c=
m?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";t=m?[c.pageX,c.pageY]:[b.pageX,b.pageY];if(n.capabilities.rtl){var e=a(u).width();t=m?[e-c.pageX,c.pageY]:[e-b.pageX,b.pageY]}}function x(a){m&&a.preventDefault();g(a);h.useClickZoom?a=[D[0],D[1],D[0]+D[2],D[1]+D[3]]:(a=c?c.offset:w.offsetParent().offset(),a=G.acEnabled?[a.left,a.top,y.width()+a.left,y.height()+a.top]:[z[0]+a.left,z[1]+a.top,z[0]+z[2]+a.left,z[1]+z[3]+a.top]);t[0]<a[0]||t[1]<a[1]||t[0]>=a[2]||t[1]>=a[3]||G.acEnabled&&
!v(w)?(h.fadeMagnifier?P||(P=!0,ca=setTimeout(function(){F(!0)},500)):h.useClickZoom||F(),X&&(X=!1,clearTimeout(M))):(X||(X=!0,M=setTimeout(function(){H.postCountMetric("dppc_hoverZoomOpened");k.isEnabled&&K.logHoverZoomRequestServed(k)},1E3)),h.fadeMagnifier&&P&&(P=!1,clearTimeout(ca)),r())}function F(b){b&&A.suppressMagnifier(!0);if(e&&(l&&l.hide(),c&&(c.destroy(),c=null),e=!1,m?(w.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):
a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),p(),b))w.one("click.magnifier touchstart.magnifier",function(a){d(a,!0)})}function d(b,f){f&&A.suppressMagnifier(!1);if(!e&&!q&&(0===ja&&(H.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),ja=1),Q[W]||(H.postCountMetric("dppc_hoverMain"),Q[W]=1),z=[w.position().left,w.position().top,w.width(),w.height()],W&&(g(b),l?l.refit().show():l=new O,h.useClickZoom||(c=c||new ba),D=l.getWindowSize(),r()),e=!0,m?(w.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",
x).bind("touchend.magnifier",F),a(document).trigger("engaged.magnifier")):(G.acEnabled?y.unbind("mousemove.magnifier"):w.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",x)),f&&(b=a("#zoomWindow"),0<b.length)))b.one("click.magnifier touchend.magnifier",function(a){F(!0)})}function p(){h.useHoverZoom&&(m?w.bind("touchstart.magnifier touchmove.magnifier",d):G.acEnabled?v(w)&&y.bind("mousemove.magnifier",d):w.bind("mousemove.magnifier",d))}var A=this,
y=w.offsetParent(),I={detailImageUrl:w.attr("data-old-hires"),location:"over",locationElement:w,prelaod:"ready",zIndex:50,offsetInClickZoom:50};h=a.extend(I,h);h.adjustment=[10,0,-10,0];var l=null,c=null,t=null,z=null,D=null,b={"null":1,"":1,undefined:1},e=!1,q=!1,W=h.detailImageUrl,m=h.useHoverZoomIpad||0,ja=0,Q={},ba=function(){function b(a){var b=Math.round(Math.min(w.width(),l.rect.width/a));a=Math.round(Math.min(w.height(),l.rect.height/a));d.css({width:b,height:a});e=[b,a]}var c=this,e=[0,0],
f=(l.detailSize&&l.detailSize[0]||5E8)/z[2],m=(l.detailSize&&l.detailSize[1]||5E8)/z[3];f=m>f?m:f;a("#magnifierLens").remove();var d=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});h.generalImageUrls.zoomLensBackground&&d.css({backgroundImage:"url("+h.generalImageUrls.zoomLensBackground+")"});G.showMagnifierOnHover?J(d):d.css("cursor","pointer");c.updatePosition=function(){var a=[z[2]-e[0],z[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(t[0]-e[0]/2-z[0]-c.offset.left)/a[0])),f=
0>=a[1]?.5:Math.max(0,Math.min(1,(t[1]-e[1]/2-z[1]-c.offset.top)/a[1])),m=z[0]+Math.round(b*a[0]);a=z[1]+Math.round(f*a[1]);d.get(0).style.left=m+"px";d.get(0).style.top=a+"px";return[b,f]};c.destroy=function(){d.remove()};c.offset=w.offsetParent().offset();b(f);c.updatePosition();d.appendTo(w.parent());l.detailImage[0].complete||l.detailImage.load(function(){var a=l.detailImage.width()/z[2];b(a);c.updatePosition()})};ba.preload=function(){A.preload(h.generalImageUrls.lensBackgroundUrl)};var O=function(){function b(){var b=
{};if("over"===h.location){b=h.useClickZoom;var c={},d=a("#leftCol"),g=a("#centerCol"),p=a("#rightCol"),k=a("#hover-zoom-end"),O=a("#actionPanelContainer"),ua=f.isjQueryObjDefined(d)?d.outerHeight():g.outerHeight();c.top=f.isjQueryObjDefined(d)?d.offset().top:g.offset().top;c.bottom=ua+c.top;c.right=f.isjQueryObjDefined(p)?p.offset().left:O.offset().left;c.left=b?0:d.offset().left+d.outerWidth();f.isjQueryObjDefined(k)&&k.offset().top>c.bottom&&(c.bottom=k.offset().top);b=c}else"right"===h.location&&
(b=w.offset(),b={left:b.left+w.outerWidth(),top:b.top,right:b.left+w.outerWidth()+400,bottom:b.top+400});h.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(h.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,a(u).scrollTop()+a(u).height());b.left+=m[0];b.top+=m[1];b.right+=m[2];b.bottom+=m[3];b.width=b.right-b.left;b.height=b.bottom-b.top;h.enhancedHoverOverlay&&f.isDefined(u.pageXOffset)&&(c=a(u).width(),b.width=c-b.left+u.pageXOffset-18,b.height-=14);q.css({left:b.left,top:b.top,
width:b.width,height:b.height});e.rect=b;return e}function c(b){var a=new Image;e.detailSize=[0,0];a.onload=function(){e.detailSize=[a.width,a.height];r()};a.src=b.attr("src");if(0<a.width&&0<a.height)e.detailSize=[a.width,a.height];else if(h.detailImageSize)e.detailSize=h.detailImageSize;else{b=C(a.src);var c=z[2]/z[3];b.SS||b.AA?(b=b.SS||b.AA,e.detailSize=[b,b]):b.SX?e.detailSize=[b.SX,Math.round(b.SX/c)]:b.SY?e.detailSize=[Math.round(b.SY*c),b.SY]:b.SL&&(e.detailSize=1<=c?[b.SL,Math.round(b.SL/
c)]:[Math.round(b.SL*c),b.SL])}}var e=this,m=h.adjustment;a("#zoomWindow").remove();var d={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:h.zIndex};h.enhancedHoverOverlay&&(d.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",d.border="1px solid #949494",d.borderColor="rgb(148,148,148)");var q=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(d);h.fadeMagnifier&&q.fadeIn(200);h.useClickZoom&&(N?q.css("cursor",'url("'+h.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor",
"-moz-zoom-out"),q.css("cursor","zoom-out")));e.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();q.append(b);a(document).trigger("updated.magnifier");e.detailImage=b;c(e.detailImage)};e.refit=function(){b();c(e.detailImage);return e};h.fadeMagnifier?(e.show=function(){q.fadeIn(200);return e},e.hide=function(){q.fadeOut(200);return e}):(e.show=function(){q.show();return e},e.hide=function(){q.hide();return e});
e.destroy=function(){q.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(W);b();q.appendTo(document.body)},P=!1,ca,X=!1,M;A.preload=function(c){c=a.makeArray(c);for(var e=c.length,d=0;d<e;d++)c[d]instanceof Array?A.preload(c[d]):"string"===typeof c[d]&&c[d]&&!b[c[d]]&&(b[c[d]]=new Image,b[c[d]].src=c[d])};A.changeImage=function(b,c){e&&F();W=c;w.attr("src",b);A.preload(b);z=[w.position().left,w.position().top,w.width(),w.height()];
c&&("immediately"===h.preload?A.preload(c,!0):a(u).ready(function(){A.preload(c)}),l?l.updateImage(c):w.attr("data-old-hires",c))};A.destroy=function(){G.acEnabled?y.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):w.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");c&&c.destroy();c=null;l&&l.destroy();l=null};A.detailImage=function(){return l.detailImage};A.suppressMagnifier=function(b){q=b};
A.isEngaged=function(){return e};A.engageMagnifier=d;A.disengageMagnifier=F;w[0].complete?p():w.one("load",p);A.preload(w.attr("src"));u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(h.preload){var S=h.detailImageUrl;I=function(){A.preload(S,!0);h.useClickZoom||ba.preload()};var V=h.preload;V.constructor!==Array&&(V=[V]);for(var Z=0;Z<V.length;Z++)if("immediately"===V[Z])I();else if(a(u)[V[Z]])a(u)[V[Z]](I);else a(u).bind(V[Z],I)}return A}function x(){if(G.useHoverZoom){var n=
{adjustment:[0,0,1,1],generalImageUrls:G.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:G.useHoverZoomIpad,useHoverZoom:G.useHoverZoom,useClickZoom:G.useClickZoom,fadeMagnifier:G.fadeMagnifier,zoomOutIcon:G.staticImages.zoomOutCur,enhancedHoverOverlay:G.enhancedHoverOverlay||G.atfEnhancedHoverOverlay};y&&(y.destroy(),y=aa);var h=ea.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(h)?
G.useClickZoom?(h.one("click.loadmagnifier touchstart.loadmagnifier",function(a){y=new M(h,n);y.engageMagnifier(a,!0)}),N?h.css("cursor",'url("'+G.staticImages.zoomInCur+'"), auto'):(h.css("cursor","-webkit-zoom-in"),h.css("cursor","-moz-zoom-in"),h.css("cursor","zoom-in"))):y=new M(h,n):k.isEnabled&&K.logHoverZoomApplicability(a,k)}}var F,G,I,v,y,ea,N=navigator.userAgent.match(/msie|trident/i);return function(a,f,n,u){F=this;G=a;I=f;k.refToModel=I;v=u;F.render=function(a,f,h,d,p,k){ea=h;y&&(y.destroy(),
y=aa)};F.update=function(a){};v.register("loadMagnifier",x);v.register("resize",x)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,a,f,H){function k(a,k,n){a=(a=n?n:f.getColorFromState(k.getState().hovered_variations,C))&&""!==a?a:C.defaultColor;x.dispatch("updateView",{type:"swatchHover",data:{color:a}});H.postCountMetric("swatchHover")}function K(a,k,n,v){a=(a=v?v:f.getColorFromState(k.getState().selected_variations,C))&&""!==a?a:C.defaultColor;
a===M.getCurrentItem().color?"function"===typeof n&&n():(x.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",a);n()}}),H.postCountMetric("swatchClick"))}var J,C,M,x;return function(a,f,u,v){J=this;C=a;M=f;x=v;n.on("image-block-twister-swatch-hover",k);n.on("image-block-twister-swatch-click",K);J.render=function(a,f,k,n,h){};J.update=function(a){}}});
"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,a,f,H,k,K,J){function S(b,c,e,q){if(!f.isjQueryObjDefined(b.find(".a-button-selected"))){var m=p.getCurrentItem();if(!q||"chromeless-video"!==m.type||!d.autoplayVideo)if(q=0,"image"===m.type&&(q=Math.max(G(m.color,m.variant),0)),!(m.thumbnailIndex>=d.maxAlts&&0!=q)){var g=c+q;g>=e&&(q=0,g=c);c=f.getImageHash(m.color,q,d);-1!==
c&&(A.dispatch("updateModel",{data:{index:q,thumbnailIndex:g,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=b.find(".item").get(g),f.selectGivenThumbnail(a(c),b))}}}function M(b,c,e){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&e)return b;var m=d.colorImages&&d.colorImages[c];c=b;2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=m.length||
b>=d.maxAlts)&&a(this).remove()});f.isDefined(m)&&(a.each(m,function(c,e){if(b<d.maxAlts)if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){b++;var q=a(".thumbItemUnrolled");q[c]?q[c].querySelector("img").src=e.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else c={type:"image",index:c,thumbnailIndex:b,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(c,e.thumb,l,"imageThumbnail"),d.collapsibleThumbnails&&f.updateImageThumbnailOverlay(e,c,m),b++}),K.isEnabled&&J.logAltImgRequestPlacedOnThumbnails(a,
K,p),S(l,c,b,e));return b}function x(b,a){d.useIV&&f.isDefined(a.hiRes)&&b.css("cursor","pointer")}function F(b,c){if("image"===b.type&&W){var e=a("#image-canvas-caption #canvasCaption"),m=d.staticStrings,q=d.colorImages,g=b.color,h=b.index;if(f.isShoppableScenesEnabled()&&b.shoppableScene)var k=m.clickSceneTagsToShopProducts;else c&&d.useIV?k=m.clickToExpand:q[g]&&q[g][h].hiRes&&d.useHoverZoom?(k=d.useHoverZoomIpad?m.touchToZoom:d.useClickZoom?m.clickToZoom:m.rollOverToZoom,d.hoverZoomIndicator&&
(k="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+k)):d.useIV&&(k=m.clickToExpand);e.html(k)}}function G(b,a){return f.getIndexForVariant(b,a,d)}function I(b,a,c){var f=a.thumbnailIndex,m=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a="altImageHover"===c&&z&&z.altImageIdx===f&&z.asin===m&&"swatchClick"===z.event?!0:"swatchHover"===c?z&&z.asin===m&&z.event===c:z&&z.altImageIdx===f&&z.asin===m&&z.event===c;if(!a){var g="#",h=b.find(".imgTagWrapper img").get(0);h&&(g=h.src);
b=new Image;b.onload=function(){if(h){h.src=g;var b=h.width,a=h.height,d=h.naturalWidth,k=h.naturalHeight;try{var p=(Math.abs(b/d*k-a)/a).toFixed(2);.01<p&&(u.ue&&((("landing"!==c||e||q)&&"swatchClick"!==c||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||q?"altImageHover"!==c||e||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),e=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",
1),q=!0)),u.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},u.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" Event:"+c+" Diff:"+p.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" at altImageIdx "+f+" Event:"+c+" Diff:"+p.toString()+"]"},b)))}catch(ka){u.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(ka,b))}}};"#"!==g&&(b.src=
g);z.altImageIdx=f;z.asin=m;z.event=c}}function v(b,c){var e="a-dynamic-image";if(!d.acEnabled){var m;a.each(b.main,function(b,a){f.isDefined(m)||(m=parseFloat(a[1]/a[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=m}var q=f.getMaxDimensionsOfMainImage(b.main,t,d),g=q[0],h=q[1];q=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":h};q.addClass(e).css(g).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",b.main);
return q}function y(b,a,e){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",f,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+b);e=c.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":f,"data-csa-c-slot-id":f,"data-csa-c-type":"widget","data-csa-c-asin":d.mediaAsin,"data-csa-c-physical-id":a.shoppableScene.physicalId});
e.children("span").css("display","inline-block");A.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(c,e){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&
""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return e}function ea(b,a,e){e=v(b,e);b=f.isShoppableScenesEnabled()&&b.shoppableScene?y(a,b,e):c.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
b.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});b.find(".placeHolder").replaceWith(e);c.find(".list").append(b);n.loadImageManually(e);n.trigger("dp:image-block:imageBlockImageLoad",a);return b}function N(b){var a=t.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");d.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}
function w(b){if(b.isUserGenerated){var a=p.getPreviousItem(),c=b.variant;f.isDefined(c)&&a.thumbnailIndex!==b.thumbnailIndex&&(K.isEnabled&&J.logAltImgRequestServed(K),k.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+c),k.postCountMetric("IGImageSelectedEvent:"+b.interaction)))}}function h(b,g,h,l){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||l||"unavailable"===b.type){if("image"===b.type||"unavailable"===
b.type||"lazy-loaded"===b.type){(m=f.isDefined(g))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");h=f.getImageHash(b.color,b.index,d);if(-1===h)return g={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(b,p,d)||(A.dispatch("updateModel",g),f.showUnavailable(b.color)),-1;l=c.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(l)||(l=ea(h,b.thumbnailIndex,g),m?(q=e=!1,I(l,b,"swatchClick")):I(l,b,"altImageHover"));N(l);A.dispatch("loadMagnifier");
F(b);x(l,h);w(b);n.trigger("dp:image-block:update",h)}}else if(b=d.colorImages&&d.colorImages[h],a(".unrolledImg").each(function(b){a(this).remove()}),f.isDefined(b)){a.each(b,function(b,c){if(b<d.maxAlts){var e=a(".unrolledImg");e[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=e.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var m=f.isDefined(g);m&&(k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),g())}}function r(b){var a=Math.max(G(b.color,p.getCurrentItem().variant),0);a=f.getImageHash(b.color,a,d);if(-1===a)return f.lazyLoadingRequired(b,
p,d)||f.showUnavailable(b.color),-1;var e=c.find(".swatchHoverExp"),q=v(a);e.find(".imgTagWrapper").html(q);n.loadImageManually(q);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");N(e);I(e,b,"swatchHover");n.trigger("dp:image-block:update",a)}function B(b,e){f.lazyLoadingRequired(b,p,d)||(a("#imageBlock").css("opacity","1"),c.css("opacity","1"),f.spinner(c,!1),c.find("li").removeClass("selected"),W&&a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&c.find(".list .item").remove())}
function g(){var b=c.find(".item .imgTagWrapper"),e=f.getContainerHeight(t,d.holderRatio,d.holderMaxHeight);0<e&&(t.height(e),b.height(e));c.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var c=b.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,t,d);b.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function E(b){F(p.getCurrentItem(),"mouseenter"===b.type)}var L,d,p,A,U,R,l,c,t,z={},D,b=null,e=!1,q=!1,W=(H=n.state("imageBlockStateData"))?
!H.shouldRemoveCaption:!0;n.on("triggerImageAjax",function(b){var a=p.getCurrentItem().color;d.colorImages[a]||(d.colorImages[a]=b);b={type:"updatedData",data:p.getCurrentItem()};A.dispatch("updateView",b);(a=d.colorToAsin[a])&&a.asin&&C.register(f.rankedImagesReadyEvent(a.asin))});return function(e,q,n,u){L=this;d=e;p=q;A=u;d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];L.render=function(e,q,g,k,m,n,r,u){c=2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?g:a(".unrolledScrollBox");
l=k;t=m;D=M(q,e,n);n?0===q&&I(c.find(".item.itemNo0"),p.getCurrentItem(),"landing"):(q=p.getCurrentItem(),f.lazyLoadingRequired(q,p,d)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));B(p.getCurrentItem(),!n);2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?"swatchClick"===u&&d&&d.colorImages?(b=d.colorImages[e],h(p.getCurrentItem(),r,e,n)):"updatedData"===u&&d&&d.colorImages&&d.colorImages[e]!==b&&(b=d.colorImages[e],h(p.getCurrentItem(),r,e,n)):h(p.getCurrentItem(),r,
e,n);return D};f.isImageBlockGridViewHoverDelayEnabled()?L.update=function(b){var a=b.data;p.setCurrentEvent(b);"ingress"!==a.type&&"swatchHover"!==b.type&&(p.setToPreviousItem(),"mouseenter"===b.type?(R&&clearTimeout(R),R=setTimeout(function(){p.setToCurrentItem(a);B(b.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===b.type?R&&clearTimeout(R):"click"===b.type&&(p.setToCurrentItem(a),B(b.data,!1)));"swatchHover"===b.type?("ingress"!==a.type&&B(b.data,!1),a.color===p.getCurrentItem().color?h(p.getCurrentItem(),
null,a.color,!0):b.captured||-1===r(a)||(b.captured=!0)):"image"===a.type&&(a.interaction=b.type,a.isUserGenerated=!0,"mouseenter"===b.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+D),U&&clearTimeout(U),U=setTimeout(function(){h(a,null,a.color,!0);d.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,l)},f.getHoveringDelayTimer())):"mouseleave"===b.type?U&&clearTimeout(U):"click"===b.type&&(h(a,null,a.color,!0),f.selectGivenThumbnail(b.$declarativeParent,l),k.postCountMetric("dpcc_imageThumbClicked_total"),
k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+D)))}:L.update=function(b){var a=b.data;p.setCurrentEvent(b);"ingress"!==a.type&&B(b.data,!1);"swatchHover"===b.type?a.color===p.getCurrentItem().color?h(p.getCurrentItem(),null,a.color,!0):b.captured||-1===r(a)||(b.captured=!0):"image"===a.type&&(a.interaction=b.type,a.isUserGenerated=!0,"mouseenter"===b.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+D),h(a,null,a.color,!0),d.usePeekHover&&"click"!==
b.type||(f.selectGivenThumbnail(b.$declarativeParent,l),"click"===b.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+D))))};d.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");A.register("imageHover",E);A.register("resize",g)}});"use strict";C.now().register("ImageBlockShoppableSceneView",function(){function n(){}return function(){this.update=this.render=n}});C.now().register("ShoppableSceneWeblabProvider",
function(){return{isEnabled:!1}});"use strict";var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};C.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,a,f,H,k,C,J,S,M){function x(b){return null!==b&&"undefined"!==
typeof b}function F(b){var c=0;a.each(b,function(b,a){b=parseInt(a[1],10);b>c&&(c=b)});return c}function G(b){var c=0;a.each(b,function(b,a){b=parseInt(a[0],10);b>c&&(c=b)});return c}function I(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=F(b);0<b&&(a=Math.min(a,b));return a}function v(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=G(b);0<b&&(a=Math.min(a,b));return a}function y(b){var c;a.each(b,function(b,a){x(c)||(c=a[1]/a[0])});return c||1}function K(b){if(b){if(0<b.indexOf(".m3u8"))return"application/x-mpegURL";
if(0<b.indexOf(".mp4"))return"video/mp4"}return""}function N(b,c,d,g,k,p,l,n,t,r,u,v,z,x,y){var e=a.extend({},d.foresterMetadataParams);null!==g&&(e.method+="."+g);var q=[];c.disabledViewIds&&(q=c.disabledViewIds);y=y&&y.videoBackgroundChromefulMainView?y.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===x&&(y="transparent");return f.embed({parentElement:b[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:d.swfUrl,
foresterMetadataParams:e,backgroundColor:y,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===g)A||(A=!0,H.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(U||(U=!0,H.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var b=H.buildNexusMetric("ib.thumbnailClick",t,c.mediaObjectId,c.rankingStrategy,c.groupType,u,v,z);H.emitNexusMetric(b)}}},cuePoints:[{values:c.durationSeconds-
1,type:"position",callback:function(b,a,c){k&&(w(0,p,n),h(l))}}],disabledViewIds:q})}function w(b,a,c){a.fadeTo(500,0,function(){r(b,c);a.fadeTo(500,1)})}function h(b){b&&b.toggle()}function r(b,c){c=c.find("img");x(c[b])&&a(c[b]).click()}function B(b,a){c[b]=a?a:c[b];return c[b]}function g(b,c,d){d=d||l;d=d.colorImages;if(1>d.length||!x(d[b])||!x(c))return-1;var e=-1;a.each(d[b],function(b,a){a.variant===c&&(e=b)});return e}function E(b,c,d){d=d||l;d=d.colorImages;return!(x(d)&&x(d[b])&&x(d[b][c])&&
x(d[b][c].main))||1>a.map(d[b][c].main,function(b,a){return a}).length?-1:d[b][c]}function L(b,a,c,d){d.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,b>a?d.css("width",a/b*100+"%"):d.css("height",b/a*100+"%"))}function d(b,c){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;b=e;J.isEnabled&&(J.IVApplicaple=b,S.logImmersiveViewApplicability(a,J));return b}function p(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||
0<a(".gridImageBlockViewLayoutIn1x7").length}var A,U,R,l=a.extend(!0,{},k,C),c={},t=0,z=0,D=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:x,isDefinedAndEmpty:function(b){return x(b)&&"object"===("undefined"===typeof b?"undefined":T(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return x(b)?"object"===("undefined"===typeof b?"undefined":T(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return x(b)?"object"===("undefined"===typeof b?"undefined":T(b))&&0<
Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==b.length},getAspectRatio:y,getMaxHeightOfMainImage:v,getMaxWidthOfMainImage:I,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var e=v(b,a,c);a=I(b,a,c);b=y(b);c=a/b;a=Math.min(a,e*b);e=Math.min(e,c);return[e,a]},getContainerHeight:function(b,a,c){var e=b.get(0);b=0;if(x(e)){b=Math.min(e.offsetWidth/a,c);var d;a=l.mainImageHeightPartitions;c=l.mainImageMaxSizes;if(x(c)&&x(a)){var f=0,g=u.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<a.length;e++)g>a[e]&&(f=e+1);c.length>=f&&(d=c[f])}x(d)&&(b=Math.min(d[1],b))}return b},getColorFromState:function(b,c){if(b){c=c||l;var e="";a.each(c.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(b,a,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=a;e.find(".placeHolder").replaceWith(f);(a=b.heroVideoVariant)&&
"hero-image"===b.type&&b.variant===a&&e.addClass("heroImageThumbnail");x(d)&&e.addClass(d);p()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));n.declarative.create(e,"thumb-action",b);e.attr&&(e.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type",
"uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(b,
a,c,d,f,g,h,k){N(b,a,c,d,f,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:N,loadMediaIntoAiry:function(b,a,c,d){b&&b.getMediaSourceInfo()!==a.url&&(d?b.loadMedia?(R={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"},b.loadMedia(R)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,
contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:K(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,aciContentId:a.aciContentId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:w,
toggleVideoCaption:h,selectThumbnail:r,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px",
"border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:B,getIndexForVariant:g,getImageHash:E,lazyLoadingRequired:function(b,a,c){a=Math.max(g(b.color,a.getCurrentItem().variant,c),0);a=-1!==E(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;b=!b||"success"!==B(b);return!c.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:L,
repositionVideoBanner:function(a,c,d,f){setTimeout(function(){var b=a.width()/a.height();L(b,16,9,c)},f||0)},getVideosCount:function(a,c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:0},getVideoHash:function(a,c,d){if(d.useChildVideos){if(!x(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=d.videos;return x(a)&&x(a[c])&&x(a[c].url)?a[c]:-1},isImmersiveViewEnabled:d,playVideoInImmersiveView:function(a,c){return d(a,c)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return x(R)?R.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,c,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)},isShoppableScenesEnabled:function(){return M.isEnabled&&0<a(".mirai-scene-image-block-template").length},
isImageBlockGridViewDisplayEnabled:p,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return t},updateThumbnailHoverDelay:function(a){if(x(a)){t=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c=z;a=a.closest("ul").attr("class");a===aa?c=!1:(a=D.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=
Math.floor(c/a)>Math.floor(b/a)));c&&(t=100);z=b}}},logError:function(a,c,d,f){u.ueLogError&&u.ueLogError(f,{logLevel:a,attribution:c,message:d})}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,a,f,H,k,K){function J(b,d,e,g){!c.autoplayVideo||na||c.useChromelessVideoPlayer?!f.isjQueryObjDefined(b.find(".a-button-selected"))&&(e=t.getCurrentItem(),!g||c.prioritizeVideos||"chromeless-video"===e.type&&
c.autoplayVideo)&&(g=f.getVideoHash(e.color,0,c),-1===g||e.thumbnailIndex>=c.maxAlts-1||(d+=0,z.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=b.find(".item").get(d),f.selectGivenThumbnail(a(d),b))):(f.selectGivenThumbnail(b.find("img:last"),b),f.fadeToThumbnail(b.find("img").length-1,q,b))}function S(a){var b=t.getCurrentItem().color;if(c.useChildVideos&&!c.colorToVideo[b]){var d=function(){if(a){c.colorToVideo[b]=
a;var d={type:"updatedData",data:t.getCurrentItem()};z.dispatch("updateView",d)}};c.lazyLoadExperienceDisabled?d():C.when(f.rankedImagesReadyEvent(c.colorToAsin[b].asin)).execute(function(){d()})}}function M(a){a&&(c.notShowVideoCount=a,a={type:"updatedData",data:t.getCurrentItem()},z.dispatch("updateView",a))}function x(a){if(!c.useChildVideos)return f.lazyLoadingRequired(t.getCurrentItem(),t,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var b=c.colorToAsin[a];if(b&&b.asin){var d=
{};d.params={asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(d.success=function(a){S(a)},H.load("/gp/product/features/apparel-main-image/videos.html",d));return c.colorToVideo&&c.colorToVideo[a]}}function F(a){m&&null===a&&2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment&&(m.hide(),b.parent().css("z-index",-1),e&&e.hide())}function G(a,d,e){d=q.width()/q.height();var g=
parseInt(a.videoWidth,10),h=parseInt(a.videoHeight,10);f.updateAspectRatio(d,g,h,b);if(m&&"unrolled-video-add"!==e)m.show(),f.loadMediaIntoAiry(m,a,T,c.tabletWeb);else if(c.tabletWeb)m=O;else{if("unrolled-video-add"===e){m=O;return}if(null===O||O===aa)Y=setInterval(function(){m=O;m!==aa&&null!==m&&(m.show(),f.loadMediaIntoAiry(m,a,T,c.tabletWeb),I(),w(m),clearInterval(Y),Y=null)},500);else if(m=O,m!==aa&&null!==m){m.show();f.loadMediaIntoAiry(m,a,T,c.tabletWeb);I();w(m);return}}I();w(m)}function I(){if(2!==
c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(c)){if(1<f.getVideosCount(t.getCurrentItem().color,c)&&e){if(f.isDefined(W)){e.show();return}W=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(c.staticStrings.watchMoreVideos);e.find("#videoCaption").append(W);n.declarative.create(W,"videoIngressClick",Q)}f.playVideoInImmersiveView(c,t.getCurrentItem().color)&&(n.declarative.create(b,"videoIngressClick",Q),b.attr&&b.attr("data-ux-click",
""),b.children().css("z-index","-1"),b.css("display","inline-block"))}else e&&(e.find("#videoCaption").text(c.staticStrings.playVideo),e.show())}function v(a,b){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===b){var d=f.getVideoHash(a.color,a.index,c);if(-1===d)return-1;"chromeful-video"===a.type&&G(d,a.thumbnailIndex+1,b)}}function y(b,d,e){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&e)return b;var g=x(d);d=b;var h=a(".unrolledImg"),
l=f.isDefined(g)&&0<g.length&&c.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!c.alwaysIncludeVideo&&b===c.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>c.maxAlts&&h.each(function(b){b>=c.maxAlts&&a(this).remove()});l&&b===c.maxAlts&&(2===c.unrolledImageBlockTreatment||3==c.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):D.find(".item:last").remove(),b--);f.isDefined(g)&&(a.each(g,function(d,e){if(b<c.maxAlts){if(2===c.unrolledImageBlockTreatment||
3===c.unrolledImageBlockTreatment){var h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));c.dp60InLastPositionUnrolledImageBlock||2!==c.dp60VideoPosition||ea(a(".regularAltImageViewLayout"),c.dp60VideoPosition)}else{h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var p={type:h,index:d,thumbnailIndex:b,variant:e.variant};Q={type:"video-ingress",index:d,thumbnailIndex:b,variant:e.variant};f.useTabbedImmersiveView(c)&&("chromeful-video"===
h&&(la+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(la+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(la+=" videoImageBlockGridView");f.createThumbnail(p,e.thumb,D,la);2===c.dp60VideoPosition&&ea(D,c.dp60VideoPosition);f.useTabbedImmersiveView(c)&&(N(D.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL),d=1<g.length?"multiple-videos":"one-video",(p=!0===c.notShowVideoCount?c.staticStrings.multipleVideos:
1<g.length?g.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo)&&D.find(".videoBlockIngress").append(D.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(d));e=k.buildNexusMetric("ib.thumbnailRender",b+1,e.mediaObjectId,e.rankingStrategy,e.groupType,ca,P,X,da);k.emitNexusMetric(e);ka||(ka=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}b++}if(f.useTabbedImmersiveView(c))return!1}),J(D,d,b,
e),L(p),c.imageBlockRenderingStartTime&&k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-c.imageBlockRenderingStartTime));return b}function ea(b,d){if(0!==d)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var e=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage");b=b.children(".thumbType"+e);f&&b&&f[d-1]&&a(f[d-1]).before(b[0]);b=a(".unrolledScrollBox .list-unrolled");f=b.children(".unrolledImg.imgMedia");b=
b.children(".unrolledImg.videoMedia");f&&b&&f[d-1]&&a(f[d-1]).before(b[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else f=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),f&&b&&f[d-1]&&a(f[d-1]).before(b[0])}function N(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function w(a){c.autoplayVideo&&a&&!na&&(e&&f.toggleVideoCaption(e),a.setVolume(0),a.show(),a.play(),na=!0)}function h(b){m&&m.pause();b.data=Q;b.clickTimeStamp=b.$event.timeStamp;var d="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";z.dispatch("imageClick",b);k.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=k.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+
1,c.videos[0].mediaObjectId,c.videos[0].rankingStrategy,c.videos[0].groupType,ca,P,X,da);k.emitNexusMetric(b);k.postCountMetric(d);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function r(b){null!==m&&m!==aa&&(m.frame&&m.frame.remove(),m=null,O.frame&&O.frame.remove(),O=null);O=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");O.hide=function(){O.pause();n.$("#main-video-container").find(".vse-player-container").hide()};
O.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};O.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function B(d,g,k,p,l,m){F(m);b=null!==m?a("#unrolledImgNo"+m.thumbnailIndex):p.find("#main-video-container");ta&&(e=null!==m?"":b.parent().find("#video-canvas-caption"));q=null!==m?a(".unrolledScrollBox"):a("#main-image-container");null===m&&f.isImageBlockGridViewDisplayEnabled()&&(b.addClass("videoCenter"),p.find("#video-outer-container").addClass("videoWrapperCenter"));
ca=u.location.href;d=t.getCurrentItem().color;!0===l?P=c.mediaAsin:(P=c.colorToAsin[d]&&c.colorToAsin[d].asin,P=f.isDefined(P)?P:c.mediaAsin);c.useChromelessVideoPlayer||b.addClass("chromeful-container");null!==m?v(m,"unrolled-video-add"):v(t.getCurrentItem(),"");f.useTabbedImmersiveView(c)&&n.declarative("videoIngressClick",["click"],h);if(-1!==r&&null!==m){d=t.getCurrentItem().color;var r=f.getVideoHash(d,m.index,c);l={requester:"MediaBlockSoftlines",marketplaceID:r.marketPlaceID,clientPrefix:"mbSoftlines"+
m.thumbnailIndex,locale:r.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:r.url,imageURL:r.slateUrl},product:{contentID:R(c,d),contentIDType:"ASIN"}};K.get(n,"#unrolledImgNo"+m.thumbnailIndex,l,function(){n.$("#unrolledImgNo"+m.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,b){function c(a){a=Math.floor((D.width()-1)/g);
a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var d=0!=D.find(".item.videoThumbnail").length,e=b.eq(0).width(),f=b.eq(1).position().left-b.eq(0).position().left-e,g=e+f;c();a.register("resize",c)}function E(a){var b=D.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){g(a,b)})}}function L(a){try{if(!a)return!1;oa=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");
a={root:null,rootMargin:"0%",threshold:.75};null!==ma&&ma.disconnect();0<fa.length&&(ma=new IntersectionObserver(d,a));fa.forEach(function(a){ma.observe(a)})}catch(va){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function d(a){oa(a,sa,ra,fa,qa)}function p(b,c,d,e,f){try{a.each(b,function(b,g){var h=a(e).index(g.target);g.isIntersecting?ha[h]||(ha[h]=setTimeout(function(){c=c.slice();c.push(h);d=c.sort(function(a,b){return a-b});var a=A(d,f);if(0!==a.length&&0!==d.length){var b=
t.getCurrentItem().color;b=x(b);U(b,a);delete ha[h]}},1E3)):(clearTimeout(ha[h]),delete ha[h],c=c.filter(function(a){return a!==h}),d=c.sort(function(a,b){return a-b}))})}catch(xa){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function A(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function U(b,c){try{if(!b||!c||0===b.length||0===c.length)return!1;a.each(c,function(a,c){if(c=1===fa.length?b[0]:b[c])a=k.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,
c.rankingStrategy,c.groupType,u.location.href,P,X,da),k.emitNexusMetric(a)})}catch(wa){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function R(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}var l,c,t,z,D,b,e,q,W,m,T,Q,ba,O,P,ca,X,da,ia,V,Z,ka=!1,na=!1,la="videoThumbnail",Y=null,ma=null,ra,qa=[],fa,sa=[],oa=null,pa=n.state("imageBlockStateData"),ta=pa?!pa.shouldRemoveCaption:!0,ha={};return function(d,
g,h,p){l=this;c=d;t=g;z=p;T=c.airyConfig;X=c.contentWeblab&&c.contentWeblab+":"+c.contentWeblabTreatment;c.colorToVideo={};c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;c.tabletWeb?(ia="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(ia="tablet",n.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):(ia="desktop",da="desktop_web.ImageBlock.vse_ib_iv");l.render=function(d,g,h,k,p,l){null!==Y&&(clearInterval(Y),
Y=null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var m=[];if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){D=a("ul.regularAltImageViewLayout");ba=y(g,d,l);m=[];g=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var q=0;q<g.length;q++){var r=g[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",u=Number(g[q].classList[2].slice(10)),
v=a(".thumbItemUnrolled").index(g[q]);m.push({color:d,thumbnailIndex:v,type:r,varient:"MAIN",index:u})}for(q=0;q<m.length;q++)B(d,h,k,p,l,m[q])}else D=k,ba=y(g,d,l),B(d,h,k,p,l,null),d=t.getCurrentItem().color,h=f.getVideoHash(d,0,c),-1!==h&&(d=c.tabletWeb?f.getNilgiriServiceAjaxRequest(c,d,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",
video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:R(c,d),contentIDType:"ASIN"}},K.get(n,"#main-video-container",d,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));c.collapsibleThumbnails&&E(z);return ba};l.setupIntersectionObserverToWatchVideoThumbnail=L;l.emitMultipleImpressionMetric=U;f.isImageBlockGridViewHoverDelayEnabled()?l.update=function(a){null!==Y&&(clearInterval(Y),Y=
null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var d=a.data;"ingress"===d.type||"swatchHover"===a.type||f.lazyLoadingRequired(d,t,c)||(t.setToPreviousItem(),"mouseenter"===a.type?(Z&&clearTimeout(Z),Z=setTimeout(function(){t.setToCurrentItem(d);F(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?Z&&clearTimeout(Z):"click"===a.type&&(t.setToCurrentItem(d),F(null)));if("swatchHover"===a.type)"ingress"===d.type||f.lazyLoadingRequired(d,t,c)||F(null),d.color===t.getCurrentItem().color?
v(t.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(d,t,c)&&!f.lazyLoadOnHoverEnabled(c)&&v(t.getCurrentItem(),"");else if("chromeful-video"===d.type){var g=f.getVideoHash(d.color,d.index,c);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ba),g=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,ca,P,X,da),k.emitNexusMetric(g),V&&clearTimeout(V),V=setTimeout(function(){v(d,"");!c.usePeekHover&&n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
f.selectGivenThumbnail(a.$declarativeParent,D)},f.getHoveringDelayTimer())):"mouseleave"===a.type?V&&clearTimeout(V):"click"===a.type&&(v(d,""),n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,D),g=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,ca,P,X,da),(!f.useTabbedImmersiveView(c)&&"chromeless-video"===d.type||"tablet"==ia)&&k.emitNexusMetric(g),f.useTabbedImmersiveView(c)&&(k.emitNexusMetric(g),
k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ba),Q.action="videoIngressClick",Q.clickTimeStamp=a.$event.timeStamp,Q.$event=a.$event,Q.$currentTarget=a.$currentTarget,z.dispatch("videoIngressClick",Q),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:l.update=function(a){null!==Y&&(clearInterval(Y),Y=null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var d=a.data;"ingress"===d.type||f.lazyLoadingRequired(d,t,c)||F(null);if("swatchHover"===
a.type)d.color===t.getCurrentItem().color?v(t.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(d,t,c)&&!f.lazyLoadOnHoverEnabled(c)&&v(t.getCurrentItem(),"");else if("chromeful-video"===d.type){var g=f.getVideoHash(d.color,d.index,c);if("mouseenter"===a.type){k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ba);var h=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,ca,P,X,da);k.emitNexusMetric(h)}v(d,"");c.usePeekHover&&
"click"!==a.type||!n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,D),"click"===a.type&&(g=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,ca,P,X,da),(!f.useTabbedImmersiveView(c)&&"chromeless-video"===d.type||"tablet"==ia)&&k.emitNexusMetric(g),f.useTabbedImmersiveView(c)&&(k.emitNexusMetric(g),k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ba),Q.action="videoIngressClick",
Q.clickTimeStamp=a.$event.timeStamp,Q.$event=a.$event,Q.$currentTarget=a.$currentTarget,z.dispatch("videoIngressClick",Q),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};c.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",S),n.on("notShowVideoCountAjax",M));n.on("vsePlayer-imageblock_tablet",r);n.on("vsePlayer-mbsoftlines",r)}});"use strict";C.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,a){function f(a,f,K,J,S){function k(a){"click"===a.type&&J.postCountMetric("thumbClick");
"click"===a.type&&g.overrideAltImageClickAction?E.dispatch("thumbActionClick",a):E.dispatch("updateSelection",a)}function x(a){g.useClickZoom||E.dispatch("imageClick",a)}function F(a){g.useClickZoom||E.dispatch("imageHover",a)}function G(a){E.dispatch("button360Click",a)}function I(d){!K.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(B.update(d),"swatchHover"!==d.type&&L.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&J.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",
d.data)):(B.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",d))}function v(a){E.dispatch("resize",a)}function y(a){K.selectThumbnail(a,d)}function H(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function N(){g.interactiveCallJSPEnabled||
("function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===n.useIV?C.when("a-modal").execute(function(){H()}):H());g.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],k);a.declarative("main-image-click",["click"],x);a.declarative("main-image-click",
["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],G);a.on("resize",v)}function w(a){var d=a.data,f;d&&"ingress"!==d.type&&"click"===a.type&&(f=a);return f}function h(a){var d=L.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=d;return f}function r(a){K.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&K.updateThumbnailHoverDelay(a.$target)}var B,g,E,L,d;return function(a,k,n){B=this;g=a;E=k;L=n;d=f("#imageBlock #altImages ul");var p=f("#imageBlock .canvas"),
l=f("#main-image-container"),c;B.subViews=[];for(k=0;k<S.length;k++)B.subViews.push(new S[k](a,n,B,E));B.render=function(a,k,n,b){var e=0;d.find(".item").remove();a=a||L.getCurrentItem().color;f.each(B.subViews,function(c,f){e=(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment?f.render(a,e,p,d,l,k,n,b):f.render(a,e,p,d,l,k,n))||e});var t=d.find(".a-button-selected").closest(".a-declarative");c=h(t)};B.init=function(){d=f("#imageBlock #altImages ul");var a=d.find(".a-button-selected").closest(".a-declarative"),
c=a.data("action");a=a.data(c)||{};a.color=g.landingAsinColor||g.defaultColor;E.dispatch("updateModel",{data:a});B.render(a.color,!0);g.isDebug&&u.console&&console.log(g);E.register("updateView",I);E.register("selectThumbnail",y);N()};B.update=function(a){r(a);f.each(B.subViews,function(c,d){d.update(a)});g.usePeekHover&&("mouseleave"===a.type?E.dispatch("updateSelection",c):"click"===a.type&&(c=w(a)||c))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(n.views);C.when.apply(C,a).register("ImageBlockView",
function(){for(var a=arguments[0],k=arguments[1],n=arguments[2],u=arguments[3],C=[],M=4,x=arguments.length;M<x;M++)C.push(arguments[M]);return f(a,k,n,u,C)})})});
/* ******** */
(function(A){var C=window.AmazonUIPageJS||window.P,ea=C._namespace||C.attributeErrors,c=ea?ea("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):C;c.guardFatal?c.guardFatal(A)(c,window):c.execute(function(){A(c,window)})})(function(A,C,ea){A.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,b){var a;return function(b,c,D,u){a=this;a.render=function(){};a.update=function(){}}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,b,a,G,k){function D(){k.populateTitle(f.find("#ivTitle"),160,H)}function u(){var b=m.getCurrentItem().color;B=H.colorImages[b];E=H.heroImage[b];x=F=0;a.isDefined(E)&&(x=E.length);a.isDefined(B)&&(F=B.length)}function t(a){return a.hiRes||a.large||a.main[a.main.length-1]}function C(){var a=f.find("#ivStage").find("#ivLargeImage"),b=a.width(),h=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var k=c.width(),
m=c.height();0<c.length&&(c[0].naturalWidth&&(k=c[0].naturalWidth),c[0].naturalHeight&&(m=c[0].naturalHeight));a.css("cursor","auto");k=0===k?1:k;m=0===m?1:m;var r=Math.min(b/k,h/m),x=m*r,q=k*r;1>r?(w?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),d=!0):d=!1;k=Math.min(q,k);m=Math.min(x-20,m);c.css({"margin-top":(h-m)/2,"margin-left":(b-k)/2,height:m,width:k});a.css("visibility","visible");p=!1}
function A(a){var b=f.find("#ivLargeImage");b.css("visibility","hidden");b.empty();k.animateStageIn(b);b.append(a);C()}function N(d){f.find("#ivLargeImage").css("display","none");f.find("#ivLargeImage").css("display","block");var h;"hero-image"===d?a.isDefined(E)&&(h=t(E[y.index])):a.isDefined(B)&&(h=t(B[y.index]));if(a.isDefined(h)){f.find(".fullscreen").remove();var m=b("\x3cimg\x3e").attr("src",h).addClass("fullscreen"),p=f.find("#ivLargeImage");k.animateStageOut(p,function(){m.load(function(){A(m);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index)});if(m[0].complete)A(m),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index);else{p.empty();var a=(p.height()-104)/2,d=(p.width()-80)/2;b("\x3cimg\x3e").attr("src",H.staticImages.spinner).css({position:"relative",top:a+"px",left:d+"px"}).appendTo(p)}})}}function S(a){f.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];
N(y.type);G.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(x+F))}function O(){f.delegate(".ivThumb","click",function(){var a=b(this);S(a)})}function J(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function P(a){var b=Y.top-(a.pageY-z[1])*q;a=J(Y.left-(a.pageX-z[0])*q,r.left);b=J(b,r.top);f.find(".fullscreen").css({left:a,top:b})}function ca(){f.delegate("#ivLargeImage","click",function(a){if(p)C();else if(d){f.find(".fullscreen").removeAttr("style");if(d){var b=f.find("#ivLargeImage"),
h=b.find(".fullscreen");w?b.css("cursor","url('"+H.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));p=!0;var c=f.find("#ivLargeImage");r.left=c.width()-h.width();r.top=c.height()-h.height();c=b.height()/2;var m=b.width()/2;z=[b.offset().left+m,b.offset().top+c];Y.top=c-h.height()/2;Y.left=m-h.width()/2;h.css({position:"relative",left:Y.left,top:Y.top});q=Math.max(h.height()/b.height(),h.width()/b.width())}P(a);G.postCountMetric("dpcc_iv_largeImageCLick")}});
f.delegate("#ivLargeImage","mousemove",function(a){p&&P(a)})}function V(){f.find("#ivLargeImage").empty()}function K(d){if(h){f=b("#ivMain");u();y=m.getCurrentItem();D();k.populateVariationSelection(f.find("#ivVariationSelection"));d=f.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var c=x+F,p=0,r=0;p<c;)for(var q=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),t=0;4>t&&p<c;t++,p++,r++)if(r<x){var w=E[p].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
p,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":p+1}).appendTo(q);z.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(w)+'") center no-repeat')}else r>=x&&r<F+x&&(w=B[p-x].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(p-x),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":p-x+1}).appendTo(q),z.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(w)+'") center no-repeat'));L();h=!1}else D();d=b("#ivImagesTab").height();f.css("height",d);c=f.find("#ivTitle").outerHeight(!0);p=f.find("#ivVariationSelection").outerHeight(!0);r=f.find("#ivThumbs");q=k.getDimension(r,"margin-top")+k.getDimension(r,"margin-bottom");r.css("height",d-c-p-q);f.find("#ivLargeImage").css("height",d);d=f.find("#ivStage");c=f[0]&&f[0].getBoundingClientRect&&
Math.floor(f[0].getBoundingClientRect().width)||f.width();d.css("width",c-k.getDimension(f,"padding-left")-k.getDimension(f,"padding-right")-f.find("#ivThumbColumn").width()-k.getDimension(d,"margin-left")-k.getDimension(d,"margin-right"));y=m.getCurrentItem();d="hero-image"===y.type?f.find("#ivHeroImage_"+y.index):"image"===y.type?f.find("#ivImage_"+y.index):a.isDefined(E)?f.find("#ivHeroImage_"+y.index):f.find("#ivImage_"+y.index);a.isjQueryObjDefined(d)||(d=f.find("#ivImage_0"));S(d)}var T,H,m,
f,E,B,x,F,y,w=navigator.userAgent.match(/msie|trident/i),h=!0,p=!1,d=!1,r={},Y={},q,z;h=!0;var L=c.once(function(){O();ca();k.attachImmersiveViewResizeHandler(K);k.attachTabDeselectHandler("ivImagesTab",V)});return function(a,d,c,f){T=this;H=a;m=d;T.render=function(a,d,c,f,m,p){h=!0;u();0===x+F?k.hideTabHeading("ivImagesTabHeading"):k.unhideTabHeading("ivImagesTabHeading");1===x+F?b("#ivThumbs").hide():b("#ivThumbs").show()};T.update=function(a){};k.attachTabSelectHandler("ivImagesTab",K)}});"use strict";
A.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,b,a,G,k,D,u){function t(){var a=O.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),f=a.find(".a-popover-inner");a=a.height()-u.getDimension(f,"padding-top")-u.getDimension(f,"padding-bottom");b("#iv-tab-view-container").css("height",a);ca=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<ca?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),f=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=f):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function qa(){c.trigger("dp:image-block:immersive-view:reset")}function ia(m){if(a.isImmersiveViewEnabled(S,O.getCurrentItem().color))if(K){var f=m.$event.originalEvent;
f.acknowledge&&f.acknowledge(m.$currentTarget[0]);k.isEnabled&&D.logImmersiveViewRequestServed(k);G.postCountMetric("dppc_immersiveViewOpened");a.isDefined(m)&&("button-360-click"===m.action?b("#iv360TabHeading").click():"videoIngressClick"===m.action?(V=m.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===m.action?(V=m.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());f=O.getImmersiveViewModalInstance();if(a.isDefined(f))f.show();else{m=b("#auiImmersiveViewDiv");
f=Math.min(Math.max(b(C).height()-150,540),1080);var t=Math.min(Math.max(b(C).width()-75,990),1980);f=K.create(m,{name:"immersiveView",activate:"onclick",width:t,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});O.setImmersiveViewModalInstance(f);m.click()}P&&(P=!1,T(),c.trigger("dp:image-block:immersive-view:init"))}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else G.postCountMetric("immersiveViewNotExistsClickCount")}
var N,S,O,J,P=!0,ca=0,V,K;A.when("a-modal").execute(function(a){K=a});var T=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",t);c.on("a:popover:afterShow:immersiveView",t);c.on("a:popover:afterHide:immersiveView",qa)}),H=c.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(f){var k=a.filter(".iv-active");k.attr("id")!==b(this).attr("id")&&c.trigger("dp:ivTabs:"+k.find("a").attr("data-iv-tab-view")+":deselect",f);a.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();k=b(this).find("a").attr("data-iv-tab-view");b("#"+k).show();"ivVideosTab"===k&&(f.clickTimeStamp=V||f.timeStamp);c.trigger("dp:ivTabs:"+k+":select",f);G.postCountMetric("dppc_"+k);return!1})});return function(b,f,t,u){N=this;S=b;O=f;k.refToModel=O;J=u;N.render=function(a,b,c,k,h,f){G.postCountMetric("dpcc_altThumbs_"+b);P=!0};N.update=function(a){};N.getTitle=function(){};N.getVariationSelectionInfo=function(){};H();
a.isImmersiveViewEnabled(S,O.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");J.register("imageClick",ia);J.register("button360Click",ia);S.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ia(a)});a.useTabbedImmersiveView(S)&&(J.register("videoIngressClick",ia),J.register("showroomIngressClick",ia))}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,b,a,G,k,D,u,t){function qa(e){return e.hiRes||e.large||e.main[e.main.length-1]}function ia(){g.find("#ivTitle").click(function(){aa.hide()})}function N(){v=Qa?{type:"360-spin"}:W.getCurrentItem()}function S(){var e=g.find("#ivStage"),a=aa.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner");a=a.height()-t.getDimension(b,"padding-top")-t.getDimension(b,"padding-bottom");g.css("height",a);b=
g.find("#ivTitle").outerHeight(!0);var d=g.find("#ivVariationSelection").outerHeight(!0),l=g.find("#ivMediaSelection").outerHeight(!0),c=g.find("#ivThumbs"),h=t.getDimension(c,"margin-top")+t.getDimension(c,"margin-bottom");c.css("height",a-b-d-l-h);g.find("#ivLargeImage").css("height",a);e.css("width",g.width()-t.getDimension(g,"padding-left")-t.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-t.getDimension(e,"margin-left")-t.getDimension(e,"margin-right"))}function O(){g.find("#ivMediaSelect").change(function(){var e=
b(this).val();"all"===e?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===v.type&&g.find("#ivVideo_"+v.index).click()):"images"===e?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===v.type&&(0===X&&0===M?g.find("#iv360").click():0===X?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):"videos"===e&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==
v.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+v.index).click())})}function J(){var e=g.find("#ivStage").find("#ivLargeImage"),a=e.width(),b=e.height(),d=e.find(".fullscreen");d.removeAttr("style");var l=d.width(),c=d.height();0<d.length&&(d[0].naturalWidth&&(l=d[0].naturalWidth),d[0].naturalHeight&&(c=d[0].naturalHeight));e.css("cursor","auto");l=0===l?1:l;c=0===c?1:c;var h=Math.min(a/l,b/c),k=c*h,f=l*h;1>h?(Ra?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;l=Math.min(f,l);c=Math.min(k-20,c);d.css({"margin-top":(b-c)/2,"margin-left":(a-l)/2,height:c,width:l});e.css("visibility","visible");Ba=!1}function P(e){var a=g.find("#ivLargeImage");a.css("visibility","hidden");a.empty();t.animateStageIn(a);a.append(e);J()}function ca(){Q&&Q.pause();g.find("#ivLarge360").css("display","none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display",
"none");E()}function V(e){ca();g.find("#ivLargeImage").css("display","block");var d;"hero-image"===e?a.isDefined(ja)&&(d=qa(ja[v.index])):a.isDefined(na)&&(d=qa(na[v.index]));if(a.isDefined(d)){g.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),c=g.find("#ivLargeImage");t.animateStageOut(c,function(){l.load(function(){P(l)});if(l[0].complete)P(l);else{c.empty();var e=(c.height()-104)/2,a=(c.width()-80)/2;b("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(c)}})}}function K(){var e=parseInt(v.index,10)+1;e>=da.length||g.find("#ivVideo_"+e).click()}function T(){var e;a.isDefined(da)&&(e=da[v.index]);if(a.isDefined(e)){ca();var b=g.find("#ivLargeVideo").css("display","block");Q?(Q.isDetached()&&Q.attach(b[0]),a.loadMediaIntoAiry(Q,e,ya,n.tabletWeb),Q.show()):(Q=a.createAiryInstanceForChromeful(b,e,ya,"ImmersiveView"),ya.enableContinuousPlay&&Q.bind("ended",K));Q.play({isAsync:!0})}}function H(){N();var e="hero-image"===
v.type?g.find("#ivHeroImage_"+v.index):"image"===v.type?g.find("#ivImage_"+v.index):"chromeful-video"===v.type||"chromeless-video"===v.type?g.find("#ivVideo_"+v.index):"360-spin"===v.type?g.find("#iv360"):a.isDefined(ja)?g.find("#ivHeroImage_"+v.index):g.find("#ivImage_"+v.index);a.isjQueryObjDefined(e)||(e=g.find("#ivImage_0"));m(e)}function m(e){g.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(v.type="chromeful-video",v.index=e.attr("id").split("_")[1],
T()):e.hasClass("ivHeroImage")?(v.type="hero-image",v.index=e.attr("id").split("_")[1],V(v.type)):e.hasClass("iv360Image")?(v.type="360-spin",v.index=0,f()):(v.type="image",v.index=e.attr("id").split("_")[1],V(v.type))}function f(){ca();g.find("#ivLarge360").css("display","block");w();var e=g.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});t.animateStageIn(e)},200);x();k.postCountMetric("dppc_click360");ta=Date.now()}function E(){0<ta&&(B("dppc_duration360",Date.now()-
ta),ta=0)}function B(e,a){C.ue&&C.ue.count(e,a)}function x(){if(0<ra){var e=g.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function F(e,a){if(ra<e.length){var d=b("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:ua+"px"});d.hide();a.append(d);d.get(0).onload=function(){a.closest(document.documentElement).length&&(ra++,1===ra&&(x(),0<ta&&B("dppc_loadTime360",Date.now()-ta)),0<Ia&&B("dppc_perSpriteloadTime360",Date.now()-Ia),g.find("#iv360Spinner").hide(),
d.show(),Ca=5*I.imageLocations[Math.floor(za/I.imageLocations[0].length)][za%I.imageLocations[0].length],F(e,a))};d.attr("src",e[ra].replace(/(\._SP)\d+(,)\d+/,"$1"+va+"$2"+wa));Ia=Date.now()}}function y(e){if(a.isDefined(I.spriteWidthSizes)&&0<I.spriteWidthSizes.length){var b=I.spriteWidthSizes,d=b.length,g=b[0],l=b[d-1];if(e<=g)return g;if(e>l)return l;for(g=0;g<d;g++)if(e>b[g]&&e<=b[g+1])return b[g+1]}else return e}function w(){var a=g.find("#ivLarge360");a.children("#image-360-sprites").length||
(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ja=!0,h())}function h(){if(a.isDefined(I.spriteURLs)&&
a.isDefined(g)&&Ja&&!Ka){var e=g.find("#ivLarge360"),l=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(I.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(l);b("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(l);l.appendTo(e);l=I.imageWidth;var c=I.imageHeight,h=e.parent().width(),k=e.parent().height(),
f=0,m=0;l/c>h/k?(va=y(h),wa=Math.round(c/l*va),pa=Math.ceil(h),ua=Math.ceil(wa/va*h),m=(k-ua)/2):(wa=y(k),va=Math.round(l/c*wa),ua=Math.ceil(k),pa=Math.ceil(va/wa*k),f=(h-pa)/2);e.css({"margin-left":f,"margin-top":m,width:pa+"px",height:ua+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*pa+"px");F(I.spriteURLs,g.find("#image-360-sprites"),0);l=g.find("#ivLarge360");l.bind("mousedown",Y);l.bind("touchstart",p);l.bind("touchmove",d);l.bind("touchend",r);b(document).bind("mousemove",
q);b(document).bind("mouseup",z);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ka=!0}}function p(a){Da=!0;La=a.originalEvent.targetTouches[0].clientX}function d(a){Da&&(L(a.originalEvent.targetTouches[0].clientX-La),La=a.originalEvent.targetTouches[0].clientX)}function r(a){Da&&(Da=!1)}function Y(e){Ea=!0;Ma=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=g.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),e.parents(".a-declarative").last().css("cursor",
"url('"+n.staticImages.grabbing+"'), auto"));return!1}function q(a){Ea&&(L(a.originalEvent.clientX-Ma),Ma=a.originalEvent.clientX)}function z(e){Ea&&(Ea=!1,a.isDefined(n.staticImages.grab)&&(e=g.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function L(e){for(e=Ca-=e/pa*180;0>e;)e+=360;for(;360<e;)e-=360;Ca=e;e=360;for(var b=0;b<ra;b++)for(var l=0;l<I.imageLocations[b].length;l++){var d=Math.abs(Ca-5*I.imageLocations[b][l]);
if(d<e){e=d;var c=b*I.imageLocations[0].length+l}}c!==za&&(e=Math.floor(c/I.imageLocations[0].length),e!==Math.floor(za/I.imageLocations[0].length)&&(a.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),Na.drawImage(b[e],0,0)),e=g.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=c;e=c%I.imageLocations[0].length*-1*pa;c=-1*Math.floor(c/I.imageLocations[0].length)*ua;b=
g.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+e+"px, "+c+"px, 0)");b.css("transform","translate3d("+e+"px, "+c+"px, 0)")}function ba(){g.delegate(".ivThumb","click",function(){var a=b(this);m(a)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");v.type="chromeful-video";v.index=a.attr("id").split("_")[1];T()})}function fa(){Q&&!Q.isDetached()&&(ya.volume=
Q.getVolume(),Q.detach(),!document.all||C.atob||document.addEventListener||(Q=null));g.find("#ivLargeImage").empty();E()}function R(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function la(a){var e=sa.left-(a.pageX-Fa[0])*Ga;c.capabilities.rtl&&(e=sa.left-(b(C).width()-a.pageX-Fa[0])*Ga);a=sa.top-(a.pageY-Fa[1])*Ga;e=R(e,Ha.left);a=R(a,Ha.top);g.find(".fullscreen").css({left:e,top:a})}function ha(){g.delegate("#ivLargeImage","click",function(a){if(Ba)J();else if(Aa){g.find(".fullscreen").removeAttr("style");
if(Aa){var b=g.find("#ivLargeImage"),e=b.find(".fullscreen");Ra?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ba=!0;var l=g.find("#ivLargeImage");Ha.left=l.width()-e.width();Ha.top=l.height()-e.height();l=b.height()/2;var d=b.width()/2;Fa=[b.offset().left+d,b.offset().top+l];sa.top=l-e.height()/2;sa.left=d-e.width()/2;e.css({position:"relative",left:sa.left,top:sa.top});Ga=Math.max(e.height()/
b.height(),e.width()/b.width())}la(a)}});g.delegate("#ivLargeImage","mousemove",function(a){Ba&&la(a)})}function ma(e){if(a.isImmersiveViewEnabled(n,W.getCurrentItem().color))if(Oa){var d=e.$event.originalEvent;d.acknowledge&&d.acknowledge(e.$currentTarget[0]);Qa=a.isDefined(e)&&"button-360-click"===e.action;D.isEnabled&&u.logImmersiveViewRequestServed(D);k.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(aa))aa.show();else{e=b("#auiImmersiveViewDiv");d=b(C).height()-150;var h=b(C).width()-
75;aa=Oa.create(e,{name:"immersiveView",activate:"onclick",width:h,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Pa){g=b("#ivMain");e=W.getCurrentItem().color;na=n.colorImages[e];ja=n.heroImage[e];da=n.useChildVideos?n.colorToVideo[e]:n.videos;Sa=U()&&n.spin360ColorEnabled[e];I=U()?n.spin360ColorData[e]:ea;N();oa=M=l=X=0;a.isDefined(ja)&&(M=ja.length);a.isDefined(na)&&(X=na.length);a.isDefined(da)&&(l=da.length);Sa&&(oa=1);t.populateTitle(g.find("#ivTitle"),45,n);t.populateVariationSelection(g.find("#ivVariationSelection"));
e=g.find("#ivMediaSelect");0===X+oa||0===l?(e.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(M+X+oa+l)+")").appendTo(e),b("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(M+X+oa)+")").appendTo(e),b("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+l+")").appendTo(e),e.parent().show(),e.val("all"));e=g.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
d=M+X+l+oa;for(var f=h=0;h<d;)for(var p=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),m=0;3>m&&h<d;m++,h++,f++)if(f<M){var v=ja[h].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+h).appendTo(p);r.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat')}else if(f>=M&&f<X+M)v=na[h-M].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(h-M)).appendTo(p),r.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat');else if(f>=M+X&&f<X+M+oa)r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),r.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?t.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(v=da[h-X-M-oa],r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(h-X-M-oa)).appendTo(p),r.find(".ivThumbImage").css("background",'url("'+v.thumbUrl+'") center no-repeat'),a.isDefined(v)){var Q={position:"triggerTop"},q=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");q.find(".ivVideoPopoverTitle").text(v.title);q.find(".ivVideoPopoverDuration").text(v.durationTimestamp);Q.inlineContent=q[0];c.declarative.create(r,"a-tooltip",Q)}e=g.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
d=e.find(".placeholder");for(h=0;h<l;h++)f=da[h],p=d.clone().removeClass("placeholder").appendTo(e),p.attr("id","ivVideoList_"+h),p.find(".ivThumbImage").css("background",'url("'+f.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(f.title),p.find(".ivThumbDuration").text(f.durationTimestamp);g.find("#ivLarge360").empty();ra=0;Ka=Ja=!1;ya=n.airyConfig;Pa=!1;Ta()}}else C.performance&&performance.now&&C.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}function xa(b){var e=n.colorToAsin[b],l={},d=500;if(e&&e.asin){l.params={asin:e.asin};var g="360"+e.asin,c=Date.now();l.success=function(e){B("dppc_asyncRequestTime360",Date.now()-c);e&&a.isDefined(e.spin360.spin360Model)?(a.ajaxState(g,"success"),n.spin360ColorData[b]=e.spin360.spin360Model,b===W.getCurrentItem().color&&(I=n.spin360ColorData[b],h())):l.error()};l.error=function(){k.postCountMetric("dppc_asyncFailed360");B("dppc_asyncRequestTime360",
Date.now()-c);d*=2;16E3>=d?setTimeout(function(){c=Date.now();G.load("/gp/product/features/apparel-main-image/360.html",l)},d):a.ajaxState(g,"fail")};a.ajaxState(g)&&"fail"!==a.ajaxState(g)||(G.load("/gp/product/features/apparel-main-image/360.html",l),a.ajaxState(g,"sent"))}}function U(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var Z,n,W,ka,aa,g,ja,na,da,M,X,l,oa,v,Q,ya,I,Sa,pa,ua,wa,va,Ma,La,Qa=!1,Ja=!1,Ka=!1,Ca=0,za=0,ta=0,Ia=0,Ea=!1,Da=!1,ra=0,Na,Ra=navigator.userAgent.match(/msie|trident/i),
Pa=!0,Ba=!1,Aa=!1,Ha={},sa={},Ga,Fa,Oa;A.when("a-modal").execute(function(a){Oa=a});var Ta=c.once(function(){O();ba();ha();c.on("a:popover:afterUpdatePosition:immersiveView",S);c.on("a:popover:afterShow:immersiveView",H);c.on("a:popover:afterHide:immersiveView",fa);ia()});return function(e,l,d,g){Z=this;n=e;W=l;D.refToModel=W;ka=g;U()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));Z.render=function(b,e,l,d,g,h){Pa=!0;U()&&n.spin360ColorEnabled[b]&&!a.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},xa(b));a.isImmersiveViewEnabled(n,W.getCurrentItem().color)&&U()&&n.spin360ColorEnabled[b]&&(e===n.maxAlts&&(b=d.find(".item.imageThumbnail"),l=d.find(".item.videoThumbnail"),a.isDefined(l)&&1<l.length?l.last().remove():b.last().remove(),
e--),b=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(b,"button-360-click"),d.append(b),e++,k.postCountMetric("dppc_display360"));return e};Z.update=function(a){};a.isImmersiveViewEnabled(n,W.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ka.register("imageClick",ma);ka.register("button360Click",ma)}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,b,a,G,k,D,u,t,C){function A(){var a=b("#iv360Tab").height();q.css("height",a);var d=q.find("#ivTitle360").outerHeight(!0),g=q.find("#ivVariationSelection360").outerHeight(!0),c=q.find("#ivThumbs360"),h=u.getDimension(c,"margin-top")+u.getDimension(c,"margin-bottom");c.css("height",a-d-g-h);a=q.find("#ivStage360");d=q[0]&&q[0].getBoundingClientRect&&Math.floor(q[0].getBoundingClientRect().width)||
q.width();a.css("width",d-u.getDimension(q,"padding-left")-u.getDimension(q,"padding-right")-q.find("#ivThumbColumn360").width()-u.getDimension(a,"margin-left")-u.getDimension(a,"margin-right"))}function N(){P();var a=q.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);S()}function S(){if(0<g){var a=q.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function O(a,c){if(g<a.length){var l=b("\x3cimg /\x3e").css({display:"block",
width:6*L+"px",height:ba+"px"});l.hide();c.append(l);l.get(0).onload=function(){c.closest(document.documentElement).length&&(g++,1===g&&(S(),0<n&&(k.time("dppc_loadTime360",Date.now()-n,d.mediaAsin),D.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<W&&(k.time("dppc_perSpriteloadTime360",Date.now()-W,d.mediaAsin),D.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-W)),q.find("#iv360Spinner").hide(),l.show(),U=5*z.imageLocations[Math.floor(Z/z.imageLocations[0].length)][Z%z.imageLocations[0].length],
O(a,c))};l.attr("src",a[g].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+fa));W=Date.now()}}function J(b){if(a.isDefined(z.spriteWidthSizes)&&0<z.spriteWidthSizes.length){var d=z.spriteWidthSizes,g=d.length,l=d[0],c=d[g-1];if(b<=l)return l;if(b>c)return c;for(l=0;l<g;l++)if(b>d[l]&&b<=d[l+1])return d[l+1]}else return b}function P(){var a=q.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",d.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ma=!0,qa())}function qa(){if(a.isDefined(z.spriteURLs)&&a.isDefined(q)&&ma&&!xa){var g=q.find("#ivLarge360"),c=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(z.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",z.staticImages.hint360).appendTo(c);b("\x3cdiv\x3e").css({"text-align":"center"}).text(d.staticStrings.dragToSpin).appendTo(c);c.appendTo(g);c=z.imageWidth;var h=z.imageHeight,k=g.parent().width(),p=g.parent().height(),r=0,n=0;c/h>k/p?(R=J(k),fa=Math.round(h/c*R),L=Math.ceil(k),ba=Math.ceil(fa/R*k),n=(p-ba)/2):(fa=J(p),
R=Math.round(c/h*fa),ba=Math.ceil(p),L=Math.ceil(R/fa*p),r=(k-L)/2);g.css({"margin-left":r,"margin-top":n,width:L+"px",height:ba+"px",overflow:"hidden",position:"relative"});g.children("#image-360-sprites").css("width",6*L+"px");O(z.spriteURLs,q.find("#image-360-sprites"),0);c=q.find("#ivLarge360");c.bind("mousedown",H);c.bind("touchstart",V);c.bind("touchmove",K);c.bind("touchend",T);b(document).bind("mousemove",m);b(document).bind("mouseup",f);a.isDefined(d.staticImages.grab)&&g.css("cursor","url('"+
d.staticImages.grab+"'), auto");xa=!0}}function V(a){aa=!0;ha=a.originalEvent.targetTouches[0].clientX}function K(a){aa&&(E(a.originalEvent.targetTouches[0].clientX-ha),ha=a.originalEvent.targetTouches[0].clientX)}function T(a){aa&&(aa=!1)}function H(b){ka=!0;la=b.originalEvent.clientX;a.isDefined(d.staticImages.grabbing)&&(b=q.find("#ivLarge360"),b.css("cursor","url('"+d.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+d.staticImages.grabbing+"'), auto"));
return!1}function m(a){ka&&(E(a.originalEvent.clientX-la),la=a.originalEvent.clientX)}function f(b){ka&&(ka=!1,a.isDefined(d.staticImages.grab)&&(b=q.find("#ivLarge360"),b.css("cursor","url('"+d.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function E(b){U-=b/L*180;na&&(k.count("dppc_360dragToSpin",d.mediaAsin),D.postCountMetric("dppc_360dragToSpin"));na=!1;for(b=U;0>b;)b+=360;for(;360<b;)b-=360;U=b;b=360;for(var c=0;c<g;c++)for(var h=0;h<z.imageLocations[c].length;h++){var l=
Math.abs(U-5*z.imageLocations[c][h]);if(l<b){b=l;var f=c*z.imageLocations[0].length+h}}f!==Z&&(b=Math.floor(f/z.imageLocations[0].length),b!==Math.floor(Z/z.imageLocations[0].length)&&(a.isDefined(ja)||(ja=document.createElement("canvas").getContext("2d")),c=q.find("#image-360-sprites").children(),ja.drawImage(c[b],0,0)),b=q.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));Z=f;b=f%z.imageLocations[0].length*-1*L;f=-1*Math.floor(f/
z.imageLocations[0].length)*ba;c=q.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+b+"px, "+f+"px, 0)");c.css("transform","translate3d("+b+"px, "+f+"px, 0)")}function B(){if(M){q=b("#ivMain360");var a=r.getCurrentItem().color;F()&&y(a);z=F()?d.spin360ColorData[a]:ea;u.populateTitle(q.find("#ivTitle360"),160,d);u.populateVariationSelection(q.find("#ivVariationSelection360"));q.find("#ivLarge360").empty();g=0;xa=ma=!1;Z=U=0;X();M=!1}0!==b("#iv360Tab").height()&&
(u.detachImmersiveViewResizeHandler(B),A(),N(),n=Date.now(),da=na=!0,k.count("dppc_click360",d.mediaAsin),D.postCountMetric("dppc_click360"))}function x(b,c,g){b=d.colorToAsin[g];var h={},f=500;if(!b||!b.asin)if(g===d.defaultColor)b={asin:d.winningAsin};else return;h.params={asin:b.asin};var l="360"+b.asin,p=Date.now();h.success=function(b){k.time("dppc_asyncRequestTime360",Date.now()-p,d.mediaAsin);D.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&
t.setData(b),a.ajaxState(l,"success")):h.error()};h.error=function(){k.count("dppc_asyncFailedTransient360",d.mediaAsin);D.postCountMetric("dppc_asyncFailedTransient360");k.time("dppc_asyncRequestTime360",Date.now()-p,d.mediaAsin);D.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);f*=2;16E3>=f?setTimeout(function(){p=Date.now();G.load("/gp/product/features/apparel-main-image/360.html",h)},f):(k.count("dppc_asyncFailed360",d.mediaAsin),D.postCountMetric("dppc_asyncFailed360"),a.ajaxState(l,
"fail"))};a.ajaxState(l)&&"fail"!==a.ajaxState(l)||(G.load("/gp/product/features/apparel-main-image/360.html",h),a.ajaxState(l,"sent"))}function F(){return d&&a.isDefined(d.spin360ConfigEnabled)&&d.spin360ConfigEnabled}function y(b){return a.isDefinedAndNotEmpty(d.spin360ColorData[b])?!0:a.isDefined(d.spin360LazyLoadEnabled)&&d.spin360LazyLoadEnabled}function w(){da&&(k.time("dppc_duration360",Date.now()-n,d.mediaAsin),D.postTimeMetric("dppc_duration360",Date.now()-n),da=!1)}function h(a){a=d.colorToAsin[a.color]&&
d.colorToAsin[a.color].asin;a||(a=d.mediaAsin);return a}var p,d,r,Y,q,z,L,ba,fa,R,la,ha,ma=!1,xa=!1,U=0,Z=0,n=0,W=0,ka=!1,aa=!1,g=0,ja,na=!0,da=!1,M=!0,X=c.once(function(){u.attachImmersiveViewResizeHandler(B);u.attachImmersiveViewResizeHandler(A);u.attachImmersiveViewResetHandler(w);u.attachTabDeselectHandler("iv360Tab",w)});return function(g,f,m,n){p=this;d=g;r=f;Y=n;g=d.landingAsinColor;f=d.defaultColor;a.isDefined(d.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
u.addStyleCodeToURL(d.staticImages.icon360,"_FMpng_RI_"));F()&&(d.spin360ColorData||(d.spin360ColorData={}),g===f&&a.isDefinedAndEmpty(d.spin360ColorData[f])&&delete d.spin360ColorData[f]);c.on(C.TWISTER_DATA_EVENT,function(a){h(r.getCurrentItem())===a&&(z=t.getData(a),qa(),a={type:"updatedData",data:r.getCurrentItem()},Y.dispatch("updateView",a))});p.render=function(g,f,p,l,m,n){M=!0;!F()||a.isDefinedAndEmpty(d.spin360ColorData[g])&&!t.getData(h(r.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):
(d.spin360ColorData[g]=t.getData(h(r.getCurrentItem())),a.isDefinedAndNotEmpty(d.spin360ColorData[g])?(b("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(d,r.getCurrentItem().color)&&F()&&y(g)&&(f===d.maxAlts&&(g=l.find(".item.imageThumbnail"),f=l.find(".item.videoThumbnail"),a.isDefined(f)&&1<f.length?f.last().remove():g.last().remove()),g=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(g,
"button-360-click"),l.append(g),k.count("dppc_display360",d.mediaAsin),D.postCountMetric("dppc_display360"))):a.isDefined(d.spin360LazyLoadEnabled)&&d.spin360LazyLoadEnabled?(d.spin360ColorData[g]={},u.hideTabHeading("iv360TabHeading"),x(l,f,g)):u.hideTabHeading("iv360TabHeading"))};p.update=function(a){};u.attachTabSelectHandler("iv360Tab",B)}});A.register("nexusLogger360",function(){return{count:function(c,b){C.ue&&C.ue.event({asin:b,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(c,b,a){C.ue&&C.ue.event({asin:a,metricName:c,metricValue:b},"hit-360","hit360.clientEvent.3")}}});A.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});A.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,b){var a={};return{setData:function(G){var k=G.asin;a[k]||(a[k]=G,c.trigger(b.TWISTER_DATA_EVENT,k))},getData:function(b){return a[b]}}});"use strict";A.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(c){function b(){this.render=function(){};this.update=function(){}}return function(a,C,k,D){var u=!1,t=new b;A.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==ea&&(u=!0,t=new b(a,C,k,D))});a&&!0===a.showroomEnabled&&!1===u&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(c,b,a,A,k,D,u){function t(){x.delegate(".ivThumb","click",function(){var a=b(this);x.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(F.type="chromeful-video",F.index=a.attr("id").split("_")[1])})}function G(){if(ha){var a=b("#ivVideosTab").height();x.css("height",a);var d=x.find(".vse-lb-container");y=a-k.getDimension(d,"padding-top")-k.getDimension(d,"padding-bottom");d.css({"max-height":a,overflow:"hidden"});if(ba){x.css({"max-width":Math.floor(1.77*
y)});return}a=x.find(".vse-player-container");d=x.find(".vse-video-action-strip");var c=x.find(".vse-lb-video-metadata"),h=Math.floor(y-k.getDimension(c,"height")-k.getDimension(d,"height")),f=Math.floor(1.77*h);a.css({"max-height":h,"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}fa&&(a=x.find(".vse-vertical-scroll"),d=k.getDimension(a,"margin-top")+k.getDimension(a,"margin-bottom"),
a.css("max-height",y-d))}function ia(){N();w&&w.pause();R=!1;z=!0;r=null;la=!0;ha=!1}function N(){R=!1;w&&w.pause()}function S(d){r=d.clickTimeStamp?d.clickTimeStamp:c.now();a.isDefined(B)&&(B.eventTimestamp=r);R=!0;L&&(u.get(c,"#ivVideoBlock",E,ka,aa),x=b("#ivVideoBlock"),f.getCurrentItem(),F=f.getCurrentItem(),Z(),K());G();L=!1;P()}function O(a){L&&(x=b("#ivVideoBlock"),f.getCurrentItem(),F=f.getCurrentItem(),Z());R&&P();G()}function J(a){w=a.player;A.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-U);m.imageBlockRenderingStartTime&&A.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-m.imageBlockRenderingStartTime);ha&&(K(),P())}function P(){if(w&&R&&(x.find(".vse-lb-container").animate({opacity:1},200),w.play(B),A.postCountMetric("dpcc_vse_videoBlock_video_played"),z)){var a=C.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,A.postTimeMetric("dpcc_vse_vitff",a),z=!1)}}function ca(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function V(a){h=
a.popover.$popover;ha=!0;K()}function K(){if(ha&&la&&R&&w){h.addClass(c.$(h).find(".vse-lb-container").data("cssClass"));var a=B;ma&&(a=ea,ma=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});G();la=!1}}function T(a){document.getElementsByClassName("videoBlockIngress")[0].click();ea=a;ma=!0}var H,m,f,E,B,x,F,y,w,h,p,d,r,Y,q,z=!0,L=!0,ba=!1,fa=!1,R=!1,la=!0,ha=!1,ma=!1,ea,U=0,Z=c.once(function(){t();k.attachImmersiveViewResizeHandler(O);k.attachTabDeselectHandler("ivVideosTab",
N);k.attachImmersiveViewResetHandler(ia)}),n=function(d,c,h){b("#ivVideoBlockSpinner").addClass("aok-hidden");A.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+c.placement);d=f.getCurrentItem().color;d=a.getVideoHash(d,0,m);w||(w=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),d,m.airyConfig,"ImmersiveView"));ba=!0;b("#ivVideoBlock").css({"max-width":1.77*y,margin:"0 auto"});R&&ba&&w.play({isAsync:!0})},W=function(a,d,c){L||u.get(a,"#ivVideoBlock",E,ka,aa);b("#ivVideoBlockSpinner").addClass("aok-hidden")},
ka=function(a,b,d){fa=!0;G()},aa=function(a,b,d){A.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,h,t,u){H=this;m=b;f=h;H.render=function(b,h,g,t,v,u){b=f.getCurrentItem().color;h=a.getVideoHash(b,0,m);!0===u?p=m.mediaAsin:(p=m.colorToAsin[b]&&m.colorToAsin[b].asin,p=a.isDefined(p)?p:m.mediaAsin);d=!0===m.useVSEVideos?"VIDEO_ID":"physicalID";Y=m.contentWeblab;q=m.contentWeblabTreatment;L=!0;-1===h?k.hideTabHeading("ivVideosTabHeading"):
(k.unhideTabHeading("ivVideosTabHeading"),E={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:h.marketPlaceID,locale:h.languageCode,product:{contentID:p,contentIDType:"ASIN"},video:{contentID:h.mediaObjectId,contentIDType:d,videoURL:h.url,imageURL:h.slateUrl,rankingStrategy:h.rankingStrategy},requestId:m.dpRequestId,weblabContext:[{name:Y,assignment:q,ignoreForG2S2Key:!0}],metadata:{ProductTitle:m.title}},B={videoUrl:E.video.videoURL,contentId:E.video.contentID,duration:0,vendorCode:"",
eventTimestamp:a.isDefined(r)?r:c.now(),imageUrl:E.video.imageURL,productAsin:E.product.contentID,rankingStrategy:E.video.rankingStrategy,index:0},a.isDefinedAndNotEmpty(w)&&(w.destroy(),w=null),U=c.now(),D.get(c,"#ivVideoBlock",E,W,n))};H.update=function(a){};k.attachTabSelectHandler("ivVideosTab",S);c.on("vsePlayer-detailpage-imageblock",J);c.on("a:popover:afterShow:immersiveView",V);c.on("a:popover:beforeHide:immersiveView",ca);c.on("detailpage-imageblock-leave-pip",T)}});"use strict";A.when("A",
"jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(c,b,a,C,k){function D(a,c){if(a){B=m.getCurrentItem();0==Object.entries(w).length&&u();var d=B.shoppableScene;d==ea?(a=K(Object.values(w)[0]),d=Object.values(w)[0].shoppableScene):a=K(E[B.index]);y=d.physicalId;var h=b(".shoppable-scene-image-block-placeholder-in-iv");if(0<h.length){var k=b("\x3cimg\x3e");k.attr("id","shoppableSceneIvImage");k.attr("src",a);k.css({"max-height":"500px",
"max-width":"650px"});h.replaceWith(k);a=t(d);d=b(".shoppable-scene-image-block-tags-in-iv");d.empty();a.appendTo(d)}else f.hide(),J();ia();a=B.shoppableScene?B.shoppableScene:Object.values(w)[0].shoppableScene;N(a);P(c,x,null,y)}}function u(){E=H.colorImages[B.color];x=H.colorToAsin[B.color].asin;E.forEach(function(a){a.shoppableScene!=ea&&(w[a.shoppableScene.physicalId]=a)})}function t(a){var h=b("\x3cspan\x3e");c.each(a.tags,function(d){var f=b("\x3cdiv\x3e").css({position:"absolute",left:100*
d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});f.append(G(!1));f.append(G(!0));c.declarative.create(f,"scenes-show-details-tags-ib-iv-click",{tagId:d.link,physicalId:a.physicalId});h.append(f)});return h.children()}function G(a){var c=b("\x3cimg src\x3d'"+(a?H.staticImages.shoppableSceneDotHighlighted:H.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:a?"none":"inline-block"});c.addClass("mirai-scene-tag-in-iv").addClass(a?"active-tag":"inactive-tag");return c}function ia(){var a=
b(".ivBottomThumbImagesShoppableScene");a.empty();Object.keys(w).forEach(function(h){var d=w[h],f=b("\x3cimg\x3e");d=K(d);f.attr("id","shoppable-scene-thumbnail-"+h);f.attr("src",d);f.addClass("shoppable-scene-thumbnail");c.declarative.create(f,"scenes-thumbnail-ib-iv-click",{physicalId:h});f.appendTo(a)})}function N(a){V();A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){c.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}
function S(a,b){V();A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){c.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:b})})}function O(){var a=w[y].shoppableScene,c=b(".shoppable-scene-image-block-tags-in-iv");c.hide();a=t(a);c.empty();a.appendTo(c);c.show();f.show()}function J(){var a=K(w[y]),c=b("#shoppableSceneIvImage");c.bind("load",O);c.attr("src",a)}function P(a,b,d,f){var h="shoppable-scene-dp-iv:mirai:"+
a;A.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){c.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:h,asin:b,tagId:d,physicalId:f})})}function ca(){var a=b(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");a.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");c.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},3600)}function V(){var a=b("#shoppable-scene-iv-recommendation-waiting-spinner");
0<a.length&&a.remove();a=b("#shoppableSceneRecommendationColumn");b(".shoppable-scene-recommendation-iv").hide();var c=b("\x3cimg\x3e");c.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");c.attr("src",H.staticImages.spinner);c.css({position:"relative"}).appendTo(a)}function K(a){return a.hiRes||a.large||a.main[a.main.length-1]}var T=void 0,H=void 0,m=void 0,f=void 0,E=void 0,B=void 0,x=void 0,F=void 0,y=void 0,w={};c.declarative("shoppable-scene-image-click","click",function(a){D(!0,
"IMAGE_BLOCK_SHOPPABLE_SCENE")});c.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var b=a.$currentTarget;if(null!=F){var c=F.find(".active-tag"),f=F.find(".inactive-tag");c.css({display:"none"});f.css({display:"inline-block"})}c=b.find(".active-tag");f=b.find(".inactive-tag");c.css({display:"inline-block"});c.addClass("mirai-scene-dot-pulsate");f.css({display:"none"});F=b;ca();S(a.data.tagId,a.data.physicalId);P("IMMERSIVE_VIEW_PRODUCT_TAG",x,a.data.tagId,a.data.physicalId)});
c.declarative("scenes-thumbnail-ib-iv-click","click",function(a){y=a.data.physicalId;J();N(w[y].shoppableScene)});return function(a,c,d,k){T=this;H=a;m=c;f=b("#ivMainShoppableScene");T.render=function(a,b,c,d,f,h){};T.update=function(a){};(a=document.getElementById("ivShoppableSceneHeading"))&&a.addEventListener("click",function(a){a=m.getCurrentItem();D(null==B||B.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,a=l?l("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,f,l){e.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),k=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=c("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){e.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";e.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,h;for(h in a)a[h]&&a[h].length&&(b+=a[h].length);a="image_size_bucket:gt"+g[g.length-1];for(h=1;h<g.length;h++)if(b<=g[h]){a="image_size_bucket:"+g[h-1]+"-"+g[h];break}k.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";e.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});e.register("postEarlyMetric",function(){return null});"use strict";e.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=f.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=f.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,b,c,d,k,g,e,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:c,videoAsinList:"",
rankingStrategy:d,groupType:k,pageUrl:g,pageAsin:e,weblabIds:f}}}});"use strict";e.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=l&&c.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=l&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",
f.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){"use strict";b.when("A").register("payment-options-opt-out-state",function(a){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}})});
/* ******** */
